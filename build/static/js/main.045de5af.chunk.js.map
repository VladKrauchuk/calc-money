{"version":3,"sources":["components/total/Total.js","components/history/HistoryItem.js","components/history/History.js","components/operation/Operation.js","App.js","index.js"],"names":["Total","totalBalance","resultIncome","resultExpenses","className","HistoryItem","transaction","delTransaction","add","description","amount","onClick","id","History","transactions","map","item","key","Operation","addTransation","addDescription","addAmount","type","placeholder","onChange","value","App","state","JSON","parse","localStorage","getItem","push","Date","toString","parseFloat","setState","getTotalBalance","e","target","getIncome","reduce","acc","getExpenses","addStorage","setItem","stringify","filter","this","Component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.045de5af.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Total = ({ totalBalance, resultIncome, resultExpenses }) => (\r\n  <section className=\"total\">\r\n    <header className=\"total__header\">\r\n      <h3>Баланс</h3>\r\n      <p className=\"total__balance\">{totalBalance} ₽</p>\r\n    </header>\r\n    <div className=\"total__main\">\r\n      <div className=\"total__main-item total__income\">\r\n        <h4>Доходы</h4>\r\n        <p className=\"total__money total__money-income\">+{resultIncome} ₽</p>\r\n      </div>\r\n      <div className=\"total__main-item total__expenses\">\r\n        <h4>Расходы</h4>\r\n        <p className=\"total__money total__money-expenses\">\r\n          -{resultExpenses} ₽\r\n        </p>\r\n      </div>\r\n    </div>\r\n  </section>\r\n);\r\n\r\nexport default Total;\r\n","import React from \"react\";\r\n\r\nconst HistoryItem = ({ transaction, delTransaction }) => (\r\n  <li\r\n    className={`history__item history__item-${\r\n      transaction.add ? \"plus\" : \"minus\"\r\n    }`}\r\n  >\r\n    {transaction.description}\r\n    <span className=\"history__money\">{`${transaction.add ? \"+\" : \"-\"} ${transaction.amount}`} ₽</span>\r\n    <button\r\n      className=\"history__delete\"\r\n      onClick={() => delTransaction(transaction.id)}\r\n    >\r\n      x\r\n    </button>\r\n  </li>\r\n);\r\n\r\nexport default HistoryItem;\r\n","import React from \"react\";\r\nimport HistoryItem from \"./HistoryItem\";\r\n\r\nconst History = ({ transactions, delTransaction }) => (\r\n  <section className=\"history\">\r\n    <h3>История расходов</h3>\r\n    <ul className=\"history__list\">\r\n      {transactions.map((item) => (\r\n        <HistoryItem\r\n          key={item.id}\r\n          transaction={item}\r\n          delTransaction={delTransaction}\r\n        />\r\n      ))}\r\n    </ul>\r\n  </section>\r\n);\r\n\r\nexport default History;\r\n","import React from \"react\";\r\n\r\nconst Operation = ({ addTransation, addDescription, addAmount, description, amount }) => (\r\n  <section className=\"operation\">\r\n    <h3>Новая операция</h3>\r\n    <form id=\"form\">\r\n      <label>\r\n        <input\r\n          type=\"text\"\r\n          className=\"operation__fields operation__name\"\r\n          placeholder=\"Наименование операции\"\r\n          onChange={addDescription}\r\n          value={description}\r\n        />\r\n      </label>\r\n      <label>\r\n        <input\r\n          type=\"number\"\r\n          className=\"operation__fields operation__amount\"\r\n          placeholder=\"Введите сумму\"\r\n          onChange={addAmount}\r\n          value={amount}\r\n        />\r\n      </label>\r\n      <div className=\"operation__btns\">\r\n        <button\r\n          onClick={() => addTransation(false)}\r\n          type=\"button\"\r\n          className=\"operation__btn operation__btn-subtract\"\r\n        >\r\n          РАСХОД\r\n        </button>\r\n        <button\r\n          onClick={() => addTransation(true)}\r\n          type=\"button\"\r\n          className=\"operation__btn operation__btn-add\"\r\n        >\r\n          ДОХОД\r\n        </button>\r\n      </div>\r\n    </form>\r\n  </section>\r\n);\r\n\r\nexport default Operation;\r\n","import React, { Component } from \"react\";\r\nimport Total from \"./components/total/Total\";\r\nimport History from \"./components/history/History\";\r\nimport Operation from \"./components/operation/Operation\";\r\n\r\nclass App extends Component {\r\n  state = {\r\n    transactions: JSON.parse(localStorage.getItem(\"calcMoney\")) || [],\r\n    description: \"\",\r\n    amount: \"\",\r\n    resultIncome: 0,\r\n    resultExpenses: 0,\r\n    totalBalance: 0,\r\n  };\r\n\r\n  componentWillMount() {\r\n    this.getTotalBalance();\r\n  }\r\n\r\n  componentWillUpdate() {\r\n    this.addStorage();\r\n  }\r\n\r\n  addTransation = (add) => {\r\n    const transactions = [...this.state.transactions];\r\n\r\n    transactions.push({\r\n      id: `cmr${(+new Date()).toString(16)}`,\r\n      description: this.state.description,\r\n      amount: parseFloat(this.state.amount),\r\n      add,\r\n    });\r\n\r\n    this.setState({\r\n        transactions,\r\n        description: \"\",\r\n        amount: \"\",\r\n      }, this.getTotalBalance\r\n    );\r\n  };\r\n\r\n  addDescription = (e) => {\r\n    this.setState({ description: e.target.value });\r\n  };\r\n\r\n  addAmount = (e) => {\r\n    this.setState({ amount: e.target.value });\r\n  };\r\n\r\n  getIncome = () =>\r\n    this.state.transactions.reduce((acc, item) => (item.add ? item.amount + acc : acc),0);\r\n\r\n  getExpenses = () =>\r\n    this.state.transactions.reduce((acc, item) => (!item.add ? item.amount + acc : acc),0);\r\n\r\n  getTotalBalance() {\r\n    const resultIncome = this.getIncome();\r\n    const resultExpenses = this.getExpenses();\r\n\r\n    const totalBalance = resultIncome - resultExpenses;\r\n    this.setState({\r\n      resultIncome,\r\n      resultExpenses,\r\n      totalBalance,\r\n    });\r\n  }\r\n\r\n  addStorage = () => {\r\n    localStorage.setItem(\"calcMoney\", JSON.stringify(this.state.transactions));\r\n  };\r\n\r\n  delTransaction = (id) => {\r\n    const transactions = this.state.transactions.filter((item) => item.id !== id)\r\n    this.setState({ transactions }, this.getTotalBalance);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <header>\r\n          <h1>Кошелек</h1>\r\n          <h2>Калькулятор расходов</h2>\r\n        </header>\r\n\r\n        <main>\r\n          <div className=\"container\">\r\n            <Total\r\n              totalBalance={this.state.totalBalance}\r\n              resultIncome={this.state.resultIncome}\r\n              resultExpenses={this.state.resultExpenses}\r\n            />\r\n            <History\r\n              transactions={this.state.transactions}\r\n              delTransaction={this.delTransaction}\r\n            />\r\n            <Operation\r\n              addTransation={this.addTransation}\r\n              addAmount={this.addAmount}\r\n              addDescription={this.addDescription}\r\n              description={this.state.description}\r\n              amount={this.state.amount}\r\n            />\r\n          </div>\r\n        </main>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./normalize.css\";\nimport \"./style.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}